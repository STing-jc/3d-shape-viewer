<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3Dç«‹ä½“å›¾å½¢è§‚å¯Ÿå™¨</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: 'Arial', sans-serif;
            overflow: hidden;
        }
        
        #container {
            position: relative;
            width: 100vw;
            height: 100vh;
        }
        
        #controls {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            z-index: 100;
            min-width: 250px;
            max-height: calc(100vh - 40px);
            overflow-y: auto;
            overflow-x: hidden;
            transition: all 0.3s ease;
        }
        
        #controls.minimized {
            width: 50px;
            min-width: 50px;
            padding: 10px;
            overflow: hidden;
        }
        
        #controls.minimized .control-content {
            display: none;
        }
        
        #controls.minimized .minimize-btn {
            right: 5px;
            top: 5px;
        }
        
        .minimize-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            z-index: 101;
        }
        
        .minimize-btn:hover {
            background: #5a52d5;
            transform: scale(1.1);
        }
        
        .control-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #333;
        }
        
        select, input[type="range"], button {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }
        
        button {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            cursor: pointer;
            margin-top: 5px;
            transition: transform 0.2s;
        }
        
        button:hover {
            transform: translateY(-2px);
        }
        
        .slider-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .slider-value {
            min-width: 40px;
            text-align: center;
            font-weight: bold;
            color: #666;
        }
        
        #info {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-size: 12px;
            transition: all 0.3s ease;
            min-width: 200px;
        }
        
        #info.minimized {
            width: 50px;
            min-width: 50px;
            height: 50px;
            padding: 5px;
            overflow: hidden;
        }
        
        #info.minimized .info-content {
            display: none;
        }
        
        #info.minimized .minimize-btn {
            right: 5px;
            top: 5px;
        }
        
        #info .minimize-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }
        
        #info .minimize-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .section-title {
            color: #667eea;
            font-size: 16px;
            margin-bottom: 10px;
            border-bottom: 2px solid #667eea;
            padding-bottom: 5px;
        }
        
        .shape-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 5px;
            margin: 2px 0;
            background: #f0f0f0;
            border-radius: 3px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .shape-item:hover {
            background: #e0e0e0;
        }
        
        .shape-item button {
            padding: 2px 8px;
            font-size: 10px;
            background: #ff4757;
            color: white;
            border: none;
            border-radius: 3px;
            cursor: pointer;
        }
        
        .shape-item button:hover {
            background: #ff3838;
        }
        
        .cutting-plane-item {
            padding: 3px;
            margin: 1px 0;
            background: #ffe6e6;
            border-radius: 3px;
            font-size: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .cutting-plane-item button {
            background: #ff4444;
            color: white;
            border: none;
            padding: 2px 6px;
            border-radius: 2px;
            cursor: pointer;
            font-size: 10px;
        }
        
        .mode-active {
            background: #28a745 !important;
            color: white !important;
        }
        
        /* è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼ */
        #controls::-webkit-scrollbar {
            width: 8px;
        }
        
        #controls::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }
        
        #controls::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 4px;
        }
        
        #controls::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
        
        /* é…ç½®ç®¡ç†æ ·å¼ */
        .config-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px;
            margin: 5px 0;
            background: #ffffff;
            border: 1px solid #e0e0e0;
            border-radius: 5px;
            transition: all 0.2s ease;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            position: relative;
        }
        
        .config-item.folder-item {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-left: 4px solid #007bff;
            font-weight: bold;
        }
        
        .config-item.file-item {
            margin-left: 20px;
            border-left: 2px solid #dee2e6;
            background: #fdfdfd;
        }
        
        .config-item.file-item::before {
            content: "ğŸ“„";
            margin-right: 8px;
            font-size: 14px;
        }
        
        .config-item.folder-item::before {
            content: "ğŸ“";
            margin-right: 8px;
            font-size: 14px;
        }
        
        .config-item:hover {
            background: #f8f9fa;
            border-color: #007bff;
            transform: translateY(-1px);
            box-shadow: 0 2px 6px rgba(0,0,0,0.15);
        }
        
        .config-info {
            flex: 1;
            margin-right: 10px;
        }
        
        .config-name {
            font-weight: bold;
            color: #333;
            font-size: 13px;
            margin-bottom: 3px;
        }
        
        .config-details {
            font-size: 11px;
            color: #666;
            line-height: 1.3;
        }
        
        .load-config-btn {
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 11px;
            font-weight: bold;
            transition: all 0.2s ease;
            white-space: nowrap;
        }
        
        .load-config-btn:hover {
            background: linear-gradient(45deg, #218838, #1ea085);
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        #configList {
            max-height: 200px;
            overflow-y: auto;
        }
        
        #configList::-webkit-scrollbar {
            width: 6px;
        }
        
        #configList::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }
        
        #configList::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 3px;
        }
        
        #configList::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
        
        .config-management-buttons {
            display: flex;
            flex-direction: column;
            gap: 5px;
            margin-bottom: 10px;
        }
        
        .config-management-buttons button {
            width: 100%;
            padding: 8px;
            font-size: 11px;
            font-weight: bold;
            border-radius: 5px;
            transition: all 0.2s ease;
        }
        
        #saveConfig {
            background: linear-gradient(45deg, #007bff, #0056b3);
        }
        
        #saveConfig:hover {
            background: linear-gradient(45deg, #0056b3, #004085);
        }
        
        #loadSingleConfig {
            background: linear-gradient(45deg, #28a745, #20c997);
        }
        
        #loadSingleConfig:hover {
            background: linear-gradient(45deg, #20c997, #1ea085);
        }
        
        #loadConfigFolder {
            background: linear-gradient(45deg, #6f42c1, #5a2d91);
        }
        
        #loadConfigFolder:hover {
            background: linear-gradient(45deg, #5a2d91, #4c1f78);
        }
    </style>
</head>
<body>
    <div id="container">
        <!-- å¸®åŠ©æŒ‰é’® -->
        <button id="helpButton" style="position: fixed; top: 20px; right: 20px; z-index: 1000; background: #007bff; color: white; border: none; border-radius: 50%; width: 50px; height: 50px; font-size: 20px; cursor: pointer; box-shadow: 0 2px 10px rgba(0,0,0,0.2); transition: all 0.3s ease;" title="å¸®åŠ©">
            ?
        </button>
        
        <!-- å¸®åŠ©å¼¹çª— -->
        <div id="helpModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1001; overflow-y: auto;">
            <div style="background: white; margin: 50px auto; padding: 30px; border-radius: 10px; max-width: 800px; box-shadow: 0 4px 20px rgba(0,0,0,0.3); position: relative;">
                <button id="closeHelp" style="position: absolute; top: 15px; right: 20px; background: none; border: none; font-size: 24px; cursor: pointer; color: #666;">&times;</button>
                
                <h2 style="color: #333; margin-bottom: 20px; text-align: center;">ğŸ¯ 3Då›¾å½¢æŸ¥çœ‹å™¨ - åŠŸèƒ½æŒ‡å—</h2>
                
                <div style="max-height: 70vh; overflow-y: auto; padding-right: 10px;">
                    <!-- é¡¹ç›®ç‰¹è‰² -->
                    <div style="margin-bottom: 25px;">
                        <h3 style="color: #007bff; border-bottom: 2px solid #007bff; padding-bottom: 5px;">ğŸŒŸ é¡¹ç›®ç‰¹è‰²</h3>
                        <ul style="line-height: 1.6; color: #555;">
                            <li><strong>å¤šå›¾å½¢æ”¯æŒï¼š</strong>ç«‹æ–¹ä½“ã€çƒä½“ã€åœ†æŸ±ä½“ã€åœ†é”¥ä½“ã€ç¯é¢ç­‰åŸºç¡€å‡ ä½•ä½“</li>
                            <li><strong>é«˜ç²¾åº¦åˆ‡å‰²ï¼š</strong>ä¸‰çº§ç²¾åº¦æ¨¡å¼ï¼Œæ”¯æŒ0.0001çº§åˆ«çš„è¶…é«˜ç²¾åº¦åˆ‡å‰²</li>
                            <li><strong>æ™ºèƒ½é™„ç€ï¼š</strong>æ–°å›¾å½¢å¯æ™ºèƒ½é™„ç€åˆ°ç°æœ‰å›¾å½¢è¡¨é¢</li>
                            <li><strong>å›¾å½¢ç»„åˆï¼š</strong>æ”¯æŒå¤šä¸ªå›¾å½¢çš„é”å®šç»„åˆæ“ä½œ</li>
                            <li><strong>å®æ—¶é¢„è§ˆï¼š</strong>æ‰€æœ‰æ“ä½œéƒ½æœ‰å®æ—¶é¢„è§ˆæ•ˆæœ</li>
                            <li><strong>æ“ä½œå†å²ï¼š</strong>æ”¯æŒæ’¤é”€/é‡åšåŠŸèƒ½</li>
                        </ul>
                    </div>
                    
                    <!-- åŸºç¡€æ“ä½œ -->
                    <div style="margin-bottom: 25px;">
                        <h3 style="color: #28a745; border-bottom: 2px solid #28a745; padding-bottom: 5px;">ğŸ® åŸºç¡€æ“ä½œ</h3>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 10px;">
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <h4 style="color: #333; margin-bottom: 8px;">ğŸ–±ï¸ è§†è§’æ§åˆ¶</h4>
                                <ul style="font-size: 14px; color: #666; margin: 0; padding-left: 20px;">
                                    <li>å·¦é”®æ‹–æ‹½ï¼šæ—‹è½¬è§†è§’</li>
                                    <li>å³é”®æ‹–æ‹½ï¼šå¹³ç§»è§†è§’</li>
                                    <li>æ»šè½®ï¼šç¼©æ”¾è§†è§’</li>
                                </ul>
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <h4 style="color: #333; margin-bottom: 8px;">âŒ¨ï¸ å¿«æ·é”®</h4>
                                <ul style="font-size: 14px; color: #666; margin: 0; padding-left: 20px;">
                                    <li>Ctrl+Zï¼šæ’¤é”€æ“ä½œ</li>
                                    <li>Ctrl+Yï¼šé‡åšæ“ä½œ</li>
                                    <li>Ctrl+1/2/3ï¼šåˆ‡æ¢ç²¾åº¦æ¨¡å¼</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <!-- åˆ‡å‰²å·¥å…·è¯¦è§£ -->
                    <div style="margin-bottom: 25px;">
                        <h3 style="color: #dc3545; border-bottom: 2px solid #dc3545; padding-bottom: 5px;">âœ‚ï¸ åˆ‡å‰²å·¥å…·è¯¦è§£</h3>
                        <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                            <h4 style="color: #856404; margin-bottom: 10px;">ğŸ¯ ç²¾åº¦æ¨¡å¼</h4>
                            <ul style="color: #856404; margin: 0; padding-left: 20px;">
                                <li><strong>æ ‡å‡†ç²¾åº¦ (0.01)ï¼š</strong>é€‚ç”¨äºä¸€èˆ¬å»ºæ¨¡éœ€æ±‚</li>
                                <li><strong>é«˜ç²¾åº¦ (0.001)ï¼š</strong>é€‚ç”¨äºç²¾ç»†å»ºæ¨¡</li>
                                <li><strong>è¶…é«˜ç²¾åº¦ (0.0001)ï¼š</strong>é€‚ç”¨äºå·¥ç¨‹çº§ç²¾å¯†å»ºæ¨¡</li>
                            </ul>
                        </div>
                        <div style="background: #d1ecf1; padding: 15px; border-radius: 8px;">
                            <h4 style="color: #0c5460; margin-bottom: 10px;">ğŸ”§ æ“ä½œæ­¥éª¤</h4>
                            <ol style="color: #0c5460; margin: 0; padding-left: 20px;">
                                <li>ç‚¹å‡»"åˆ‡å‰²å·¥å…·"è¿›å…¥è°ƒæ•´æ¨¡å¼</li>
                                <li>ä½¿ç”¨æ»‘å—æˆ–æ•°å€¼è¾“å…¥æ¡†è°ƒæ•´åˆ‡å‰²å¹³é¢ä½ç½®å’Œæ³•å‘é‡</li>
                                <li>ä½¿ç”¨æ—‹è½¬æŒ‰é’®ç²¾ç¡®è°ƒæ•´å¹³é¢è§’åº¦</li>
                                <li>å®æ—¶é¢„è§ˆåˆ‡å‰²æ•ˆæœ</li>
                                <li>ç‚¹å‡»"åº”ç”¨åˆ‡å‰²"å®Œæˆæ“ä½œ</li>
                            </ol>
                        </div>
                    </div>
                    
                    <!-- é«˜çº§åŠŸèƒ½ -->
                    <div style="margin-bottom: 25px;">
                        <h3 style="color: #6f42c1; border-bottom: 2px solid #6f42c1; padding-bottom: 5px;">ğŸš€ é«˜çº§åŠŸèƒ½</h3>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 10px;">
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <h4 style="color: #333; margin-bottom: 8px;">ğŸ“ é™„ç€æ¨¡å¼</h4>
                                <p style="font-size: 14px; color: #666; margin: 0;">æ¿€æ´»åç‚¹å‡»ç°æœ‰å›¾å½¢è¡¨é¢ï¼Œæ–°åˆ›å»ºçš„å›¾å½¢å°†è‡ªåŠ¨é™„ç€åˆ°è¯¥ä½ç½®</p>
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <h4 style="color: #333; margin-bottom: 8px;">ğŸ”’ å›¾å½¢ç»„åˆ</h4>
                                <p style="font-size: 14px; color: #666; margin: 0;">é€‰æ‹©å¤šä¸ªå›¾å½¢åå¯ä»¥é”å®šç»„åˆï¼Œä½œä¸ºä¸€ä¸ªæ•´ä½“è¿›è¡Œæ“ä½œ</p>
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <h4 style="color: #333; margin-bottom: 8px;">ğŸšš ç§»åŠ¨æ¨¡å¼</h4>
                                <p style="font-size: 14px; color: #666; margin: 0;">æ¿€æ´»åå¯ä»¥ç›´æ¥æ‹–æ‹½å›¾å½¢è¿›è¡Œä½ç½®è°ƒæ•´ï¼Œè§†è§’ä¿æŒä¸å˜</p>
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px;">
                                <h4 style="color: #333; margin-bottom: 8px;">ğŸŒ çº¿æ¡†æ¨¡å¼</h4>
                                <p style="font-size: 14px; color: #666; margin: 0;">åˆ‡æ¢åˆ°çº¿æ¡†æ˜¾ç¤ºæ¨¡å¼ï¼Œä¾¿äºè§‚å¯Ÿå›¾å½¢çš„å†…éƒ¨ç»“æ„</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ä½¿ç”¨æŠ€å·§ -->
                    <div style="margin-bottom: 25px;">
                        <h3 style="color: #fd7e14; border-bottom: 2px solid #fd7e14; padding-bottom: 5px;">ğŸ’¡ ä½¿ç”¨æŠ€å·§</h3>
                        <div style="background: #fff3cd; padding: 15px; border-radius: 8px;">
                            <ul style="color: #856404; margin: 0; padding-left: 20px; line-height: 1.6;">
                                <li>ä½¿ç”¨æ•°å€¼è¾“å…¥æ¡†å¯ä»¥å®ç°æ›´ç²¾ç¡®çš„å‚æ•°æ§åˆ¶</li>
                                <li>åˆ‡å‰²å‰å»ºè®®å…ˆé¢„è§ˆæ•ˆæœï¼Œç¡®è®¤æ— è¯¯åå†åº”ç”¨</li>
                                <li>å¤æ‚æ¨¡å‹å»ºè®®åˆ†æ­¥éª¤è¿›è¡Œåˆ‡å‰²ï¼Œé¿å…ä¸€æ¬¡æ€§æ“ä½œè¿‡å¤š</li>
                                <li>å–„ç”¨æ’¤é”€åŠŸèƒ½ï¼Œå¯ä»¥å®‰å…¨åœ°å°è¯•å„ç§æ“ä½œ</li>
                                <li>ç»„åˆåŠŸèƒ½é€‚ç”¨äºéœ€è¦æ•´ä½“æ“ä½œçš„å¤æ‚ç»“æ„</li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- æ³¨æ„äº‹é¡¹ -->
                    <div>
                        <h3 style="color: #dc3545; border-bottom: 2px solid #dc3545; padding-bottom: 5px;">âš ï¸ æ³¨æ„äº‹é¡¹</h3>
                        <div style="background: #f8d7da; padding: 15px; border-radius: 8px;">
                            <ul style="color: #721c24; margin: 0; padding-left: 20px; line-height: 1.6;">
                                <li>å‡ ä½•åˆ‡å‰²æ˜¯æ°¸ä¹…æ€§æ“ä½œï¼Œåº”ç”¨åæ— æ³•é€šè¿‡æ¸…é™¤åˆ‡å‰²å¹³é¢æ¢å¤</li>
                                <li>è¶…é«˜ç²¾åº¦æ¨¡å¼ä¼šå¢åŠ è®¡ç®—æ—¶é—´ï¼Œè¯·æ ¹æ®éœ€è¦é€‰æ‹©</li>
                                <li>å¤§å‹å¤æ‚æ¨¡å‹çš„åˆ‡å‰²æ“ä½œå¯èƒ½éœ€è¦è¾ƒé•¿æ—¶é—´</li>
                                <li>å»ºè®®å®šæœŸä¿å­˜é‡è¦çš„å»ºæ¨¡è¿›åº¦</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="controls">
            <button class="minimize-btn" id="controlsMinimizeBtn" title="æœ€å°åŒ–/å±•å¼€å·¥å…·æ ">âˆ’</button>
            <div class="control-content">
            <div class="section-title">ğŸ¯ å›¾å½¢é€‰æ‹©</div>
            <div class="control-group">
                <label for="shapeSelect">é€‰æ‹©ç«‹ä½“å›¾å½¢:</label>
                <select id="shapeSelect">
                    <option value="cube">ç«‹æ–¹ä½“</option>
                    <option value="sphere">çƒä½“</option>
                    <option value="cylinder">åœ†æŸ±ä½“</option>
                    <option value="cone">åœ†é”¥ä½“</option>
                    <option value="pyramid">å››è§’é”¥</option>
                    <option value="torus">ç¯å½¢ä½“</option>
                    <option value="dodecahedron">åäºŒé¢ä½“</option>
                    <option value="icosahedron">äºŒåé¢ä½“</option>
                </select>
            </div>
            
            <div class="control-group">
                <button id="addShape" style="background: linear-gradient(45deg, #2ed573, #1e90ff); color: white; width: 100%; padding: 8px; font-weight: bold;">æ·»åŠ å›¾å½¢</button>
            </div>
            
            <div class="control-group">
                <button id="lockCombination" style="background: linear-gradient(45deg, #ffa502, #ff6348); color: white; width: 100%; padding: 8px; font-weight: bold;">æ‹¼åˆé”å®š</button>
            </div>
            
            <div class="control-group">
                <div style="display: flex; gap: 5px;">
                    <button id="toggleWireframe" style="flex: 1;">çº¿æ¡†æ¨¡å¼</button>
                    <button id="cycleWireframeStyle" style="flex: 0 0 auto; padding: 8px 12px;" title="åˆ‡æ¢çº¿æ¡†æ ·å¼">æ ·å¼</button>
                </div>
            </div>
            
            <div class="section-title">ğŸ® å›¾å½¢ç®¡ç†</div>
            <div class="control-group">
                <button id="duplicateShape">å¤åˆ¶é€‰ä¸­å›¾å½¢</button>
                <button id="clearAll" style="background: linear-gradient(45deg, #ff4757, #ff3838);">æ¸…ç©ºæ‰€æœ‰</button>
            </div>
            
            <div class="control-group">
                <div style="display: flex; gap: 5px;">
                    <button id="undoBtn" style="flex: 1;">æ’¤é”€ (Ctrl+Z)</button>
                    <button id="redoBtn" style="flex: 1;">é‡åš (Ctrl+Y)</button>
                </div>
            </div>
            
            <div class="section-title">ğŸ”§ é«˜çº§å·¥å…·</div>
            <div class="control-group">
                <button id="toggleCutting">åˆ‡å‰²å·¥å…·</button>
                <button id="toggleAttach">é™„ç€å·¥å…·</button>
                <button id="toggleMove">ç§»åŠ¨æ¨¡å¼</button>
                <button id="clearCutting">æ¸…é™¤åˆ‡å‰²å¹³é¢</button>
            </div>
            
            <div class="control-group">
                <button id="toggleBoolean" style="background: linear-gradient(45deg, #e74c3c, #c0392b); color: white; width: 100%; padding: 8px; font-weight: bold;">ğŸ”§ å¸ƒå°”è¿ç®—</button>
            </div>
            
            <div class="control-group" id="booleanPanel" style="display: none;">
                <label>å¸ƒå°”è¿ç®—æ“ä½œ:</label>
                <div style="border: 1px solid #ddd; border-radius: 5px; padding: 8px; background: #f8f9fa;">
                    <div style="margin-bottom: 8px;">
                        <label style="font-size: 12px; color: #666;">é€‰æ‹©ä¸¤ä¸ªå›¾å½¢è¿›è¡Œå¸ƒå°”è¿ç®—</label>
                    </div>
                    <div style="margin-bottom: 8px;">
                        <label style="font-size: 12px;">ä¸»ä½“å›¾å½¢ (è¢«æŒ–ç©ºçš„å›¾å½¢):</label>
                        <select id="booleanMainShape" style="width: 100%; padding: 4px; margin-top: 2px;">
                            <option value="">è¯·é€‰æ‹©ä¸»ä½“å›¾å½¢</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 8px;">
                        <label style="font-size: 12px;">å·¥å…·å›¾å½¢ (ç”¨æ¥æŒ–ç©ºçš„å›¾å½¢):</label>
                        <select id="booleanToolShape" style="width: 100%; padding: 4px; margin-top: 2px;">
                            <option value="">è¯·é€‰æ‹©å·¥å…·å›¾å½¢</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 8px;">
                        <label style="font-size: 12px;">è¿ç®—ç±»å‹:</label>
                        <select id="booleanOperation" style="width: 100%; padding: 4px; margin-top: 2px;">
                            <option value="subtract">å‡æ³• (æŒ–ç©º)</option>
                            <option value="union">å¹¶é›† (åˆå¹¶)</option>
                            <option value="intersect">äº¤é›† (ç›¸äº¤éƒ¨åˆ†)</option>
                        </select>
                    </div>
                    <div style="display: flex; gap: 5px; margin-top: 8px;">
                        <button id="executeBoolean" style="flex: 1; background: #28a745; color: white; border: none; padding: 8px; border-radius: 3px; font-size: 12px;">æ‰§è¡Œè¿ç®—</button>
                        <button id="cancelBoolean" style="flex: 1; background: #6c757d; color: white; border: none; padding: 8px; border-radius: 3px; font-size: 12px;">å–æ¶ˆ</button>
                    </div>
                </div>
            </div>
            
            <div class="control-group">
                <button id="toggleGrid">éšè—ç½‘æ ¼</button>
            </div>
            
            <div class="control-group">
                <label>å›¾å½¢åˆ—è¡¨:</label>
                <div id="shapesList" style="max-height: 120px; overflow-y: auto; border: 1px solid #ddd; border-radius: 5px; padding: 5px;"></div>
            </div>
            
            <div class="control-group">
                <label>åˆ‡å‰²å¹³é¢è°ƒæ•´:</label>
                <div id="cuttingPlaneControls" style="display: none; border: 1px solid #ddd; border-radius: 5px; padding: 8px; background: #f8f9fa;">
                    <div style="margin-bottom: 8px;">
                        <label style="font-size: 12px;">ç²¾åº¦æ¨¡å¼:</label>
                        <select id="precisionMode" style="width: 100%; padding: 2px; font-size: 11px; margin-bottom: 5px;" title="å¿«æ·é”®: Ctrl+1/2/3">
                             <option value="standard">æ ‡å‡†ç²¾åº¦ (0.01) - Ctrl+1</option>
                             <option value="high">é«˜ç²¾åº¦ (0.001) - Ctrl+2</option>
                             <option value="ultra">è¶…é«˜ç²¾åº¦ (0.0001) - Ctrl+3</option>
                         </select>
                    </div>
                    <div style="margin-bottom: 8px;">
                        <label style="font-size: 12px;">ä½ç½® (Xè½´):</label>
                        <div style="display: flex; gap: 3px; align-items: center;">
                            <div class="slider-container" style="flex: 1;">
                                <input type="range" id="cuttingPosX" min="-10" max="30" step="0.001" value="0" style="width: 100%;">
                                <span class="slider-value" id="cuttingPosXValue">0</span>
                            </div>
                            <input type="number" id="cuttingPosXInput" min="-10" max="30" step="0.001" value="0" 
                                   style="width: 60px; padding: 2px; font-size: 10px; border: 1px solid #ccc; border-radius: 3px;">
                        </div>
                    </div>
                    <div style="margin-bottom: 8px;">
                        <label style="font-size: 12px;">ä½ç½® (Yè½´):</label>
                        <div style="display: flex; gap: 3px; align-items: center;">
                            <div class="slider-container" style="flex: 1;">
                                <input type="range" id="cuttingPosY" min="-10" max="30" step="0.001" value="0" style="width: 100%;">
                                <span class="slider-value" id="cuttingPosYValue">0</span>
                            </div>
                            <input type="number" id="cuttingPosYInput" min="-10" max="30" step="0.001" value="0" 
                                   style="width: 60px; padding: 2px; font-size: 10px; border: 1px solid #ccc; border-radius: 3px;">
                        </div>
                    </div>
                    <div style="margin-bottom: 8px;">
                        <label style="font-size: 12px;">ä½ç½® (Zè½´):</label>
                        <div style="display: flex; gap: 3px; align-items: center;">
                            <div class="slider-container" style="flex: 1;">
                                <input type="range" id="cuttingPosZ" min="-10" max="30" step="0.001" value="0" style="width: 100%;">
                                <span class="slider-value" id="cuttingPosZValue">0</span>
                            </div>
                            <input type="number" id="cuttingPosZInput" min="-10" max="30" step="0.001" value="0" 
                                   style="width: 60px; padding: 2px; font-size: 10px; border: 1px solid #ccc; border-radius: 3px;">
                        </div>
                    </div>
                    <div style="margin-bottom: 8px;">
                        <label style="font-size: 12px;">æ³•å‘é‡ (Xè½´):</label>
                        <div style="display: flex; gap: 3px; align-items: center;">
                            <div class="slider-container" style="flex: 1;">
                                <input type="range" id="cuttingNormalX" min="-1" max="1" step="0.001" value="1" style="width: 100%;">
                                <span class="slider-value" id="cuttingNormalXValue">1</span>
                            </div>
                            <input type="number" id="cuttingNormalXInput" min="-1" max="1" step="0.001" value="1" 
                                   style="width: 60px; padding: 2px; font-size: 10px; border: 1px solid #ccc; border-radius: 3px;">
                        </div>
                    </div>
                    <div style="margin-bottom: 8px;">
                        <label style="font-size: 12px;">æ³•å‘é‡ (Yè½´):</label>
                        <div style="display: flex; gap: 3px; align-items: center;">
                            <div class="slider-container" style="flex: 1;">
                                <input type="range" id="cuttingNormalY" min="-1" max="1" step="0.001" value="0" style="width: 100%;">
                                <span class="slider-value" id="cuttingNormalYValue">0</span>
                            </div>
                            <input type="number" id="cuttingNormalYInput" min="-1" max="1" step="0.001" value="0" 
                                   style="width: 60px; padding: 2px; font-size: 10px; border: 1px solid #ccc; border-radius: 3px;">
                        </div>
                    </div>
                    <div style="margin-bottom: 8px;">
                        <label style="font-size: 12px;">æ³•å‘é‡ (Zè½´):</label>
                        <div style="display: flex; gap: 3px; align-items: center;">
                            <div class="slider-container" style="flex: 1;">
                                <input type="range" id="cuttingNormalZ" min="-1" max="1" step="0.001" value="0" style="width: 100%;">
                                <span class="slider-value" id="cuttingNormalZValue">0</span>
                            </div>
                            <input type="number" id="cuttingNormalZInput" min="-1" max="1" step="0.001" value="0" 
                                   style="width: 60px; padding: 2px; font-size: 10px; border: 1px solid #ccc; border-radius: 3px;">
                        </div>
                    </div>
                    <div style="margin-bottom: 8px;">
                        <label style="font-size: 12px;">å¿«é€Ÿè®¾ç½®åˆ‡å‰²æ–¹å‘:</label>
                        <div style="display: flex; gap: 5px; margin-top: 5px;">
                            <button id="setNormalX" 
                                    style="flex: 1; background: #dc3545; color: white; border: none; padding: 5px; border-radius: 3px; font-size: 11px; user-select: none;"
                                    title="è®¾ç½®Xè½´åˆ‡å‰²">Xè½´åˆ‡å‰²</button>
                            <button id="setNormalY" 
                                    style="flex: 1; background: #28a745; color: white; border: none; padding: 5px; border-radius: 3px; font-size: 11px; user-select: none;"
                                    title="è®¾ç½®Yè½´åˆ‡å‰²">Yè½´åˆ‡å‰²</button>
                            <button id="setNormalZ" 
                                    style="flex: 1; background: #007bff; color: white; border: none; padding: 5px; border-radius: 3px; font-size: 11px; user-select: none;"
                                    title="è®¾ç½®Zè½´åˆ‡å‰²">Zè½´åˆ‡å‰²</button>
                        </div>
                    </div>
                    <div style="margin-bottom: 8px;">
                        <label style="font-size: 12px;">åˆ‡å‰²å¹³é¢æ—‹è½¬:</label>
                        <div style="display: flex; gap: 5px; margin-top: 5px;">
                            <button id="rotateCuttingPlaneX" 
                                    style="flex: 1; background: #17a2b8; color: white; border: none; padding: 5px; border-radius: 3px; font-size: 11px; user-select: none;"
                                    title="æŒ‰ä½æ—‹è½¬Xè½´">ç»•Xè½´æ—‹è½¬</button>
                            <button id="rotateCuttingPlaneY" 
                                    style="flex: 1; background: #ffc107; color: #212529; border: none; padding: 5px; border-radius: 3px; font-size: 11px; user-select: none;"
                                    title="æŒ‰ä½æ—‹è½¬Yè½´">ç»•Yè½´æ—‹è½¬</button>
                            <button id="rotateCuttingPlaneZ" 
                                    style="flex: 1; background: #fd7e14; color: white; border: none; padding: 5px; border-radius: 3px; font-size: 11px; user-select: none;"
                                    title="æŒ‰ä½æ—‹è½¬Zè½´">ç»•Zè½´æ—‹è½¬</button>
                        </div>
                    </div>
                    <div style="margin-bottom: 8px;">
                        <label style="font-size: 12px; display: flex; align-items: center; gap: 5px;">
                            <input type="checkbox" id="autoClearCuttingPlane" checked style="margin: 0;">
                            åˆ‡å‰²å®Œæˆåè‡ªåŠ¨æ¸…é™¤åˆ‡å‰²å¹³é¢
                        </label>
                    </div>
                    <div style="display: flex; gap: 5px; margin-top: 8px;">
                        <button id="applyCuttingPlane" style="flex: 1; background: #28a745; color: white; border: none; padding: 5px; border-radius: 3px; font-size: 12px;">åº”ç”¨åˆ‡å‰²</button>
                        <button id="resetCuttingPlane" style="flex: 1; background: #6c757d; color: white; border: none; padding: 5px; border-radius: 3px; font-size: 12px;">é‡ç½®</button>
                    </div>
                </div>
            </div>
            
            <div class="control-group">
                <label>åˆ‡å‰²å¹³é¢åˆ—è¡¨:</label>
                <div id="cuttingPlanesList" style="max-height: 80px; overflow-y: auto; border: 1px solid #ddd; border-radius: 5px; padding: 5px;"></div>
            </div>
            
            <div class="control-group">
                <div id="shapeInfo" style="background: #f8f9fa; padding: 8px; border-radius: 5px; font-size: 12px; color: #666;">
                    ç‚¹å‡»å›¾å½¢è¿›è¡Œé€‰æ‹©
                </div>
            </div>
            
            <div class="control-group" id="shapeSizeControls" style="display: none;">
                <label>å›¾å½¢å¤§å°è°ƒæ•´:</label>
                <div style="border: 1px solid #ddd; border-radius: 5px; padding: 8px; background: #f8f9fa;">
                    <div style="margin-bottom: 8px;">
                        <label style="font-size: 12px;">Xè½´ç¼©æ”¾:</label>
                        <div class="slider-container">
                            <input type="range" id="scaleX" min="0.1" max="3" step="0.1" value="1" style="width: 100%;">
                            <span class="slider-value" id="scaleXValue">1.0</span>
                        </div>
                    </div>
                    <div style="margin-bottom: 8px;">
                        <label style="font-size: 12px;">Yè½´ç¼©æ”¾:</label>
                        <div class="slider-container">
                            <input type="range" id="scaleY" min="0.1" max="3" step="0.1" value="1" style="width: 100%;">
                            <span class="slider-value" id="scaleYValue">1.0</span>
                        </div>
                    </div>
                    <div style="margin-bottom: 8px;">
                        <label style="font-size: 12px;">Zè½´ç¼©æ”¾:</label>
                        <div class="slider-container">
                            <input type="range" id="scaleZ" min="0.1" max="3" step="0.1" value="1" style="width: 100%;">
                            <span class="slider-value" id="scaleZValue">1.0</span>
                        </div>
                    </div>
                    <div style="display: flex; gap: 5px; margin-top: 8px;">
                        <button id="resetScale" style="flex: 1; background: #6c757d; color: white; border: none; padding: 5px; border-radius: 3px; font-size: 12px;">é‡ç½®å¤§å°</button>
                        <button id="uniformScale" style="flex: 1; background: #17a2b8; color: white; border: none; padding: 5px; border-radius: 3px; font-size: 12px;">ç­‰æ¯”ç¼©æ”¾</button>
                    </div>
                </div>
            </div>
            
            <div class="section-title">ğŸ’¾ é…ç½®ç®¡ç†</div>
            <div class="control-group">
                <div class="config-management-buttons">
                    <button id="saveConfig">ä¿å­˜å½“å‰é…ç½®</button>
                    <button id="loadSingleConfig">é€‰æ‹©å•ä¸ªé…ç½®æ–‡ä»¶</button>
                    <button id="loadConfigFolder">é€‰æ‹©é…ç½®æ–‡ä»¶å¤¹</button>
                </div>
                <input type="file" id="singleConfigInput" style="display: none;" accept=".json">
                <input type="file" id="configFolderInput" webkitdirectory directory multiple style="display: none;" accept=".json">
            </div>
            
            <div class="control-group" id="configListGroup" style="display: none;">
                <label>é…ç½®æ–‡ä»¶åˆ—è¡¨:</label>
                <div id="configList"></div>
            </div>
            
            <div class="section-title">ğŸ¨ è§†è§‰æ•ˆæœ</div>
            <div class="control-group">
                <label for="colorSelect">æ–°å›¾å½¢é¢œè‰²ä¸»é¢˜:</label>
                <select id="colorSelect">
                    <option value="blue">è“è‰²</option>
                    <option value="red">çº¢è‰²</option>
                    <option value="green">ç»¿è‰²</option>
                    <option value="purple">ç´«è‰²</option>
                    <option value="orange">æ©™è‰²</option>
                    <option value="rainbow">å½©è™¹</option>
                </select>
            </div>
            
            <div class="control-group">
                <label for="globalColorPicker">æ‰¹é‡æ›´æ–°æ‰€æœ‰å›¾å½¢é¢œè‰²:</label>
                <div style="display: flex; align-items: center; gap: 8px;">
                    <input type="color" id="globalColorPicker" value="#3742fa" 
                           style="width: 40px; height: 30px; border: none; border-radius: 5px; cursor: pointer;" 
                           title="é€‰æ‹©é¢œè‰²">
                    <button id="applyGlobalColor" 
                            style="flex: 1; background: linear-gradient(45deg, #5352ed, #3742fa); color: white; border: none; padding: 6px 12px; border-radius: 5px; cursor: pointer; font-size: 12px;"
                            title="åº”ç”¨åˆ°æ‰€æœ‰å›¾å½¢">åº”ç”¨åˆ°æ‰€æœ‰</button>
                </div>
            </div>
            </div>
        </div>
        
        <div id="info">
            <button class="minimize-btn" id="infoMinimizeBtn" title="æœ€å°åŒ–/å±•å¼€æ“ä½œæç¤º">âˆ’</button>
            <div class="info-content">
                <strong>æ“ä½œè¯´æ˜:</strong><br>
                â€¢ é¼ æ ‡å·¦é”®æ‹–æ‹½: æ—‹è½¬è§†è§’<br>
                â€¢ é¼ æ ‡æ»šè½®: ç¼©æ”¾<br>
                â€¢ é¼ æ ‡å³é”®æ‹–æ‹½: å¹³ç§»è§†è§’<br>
                â€¢ ç‚¹å‡»å›¾å½¢: é€‰æ‹©å›¾å½¢<br>
                â€¢ Deleteé”®: åˆ é™¤é€‰ä¸­å›¾å½¢<br>
                â€¢ Ctrl+C: å¤åˆ¶é€‰ä¸­å›¾å½¢<br>
                â€¢ Ctrl+Z/Y: æ’¤é”€/é‡åšæ“ä½œ<br>
                â€¢ åˆ‡å‰²æ¨¡å¼: ç‚¹å‡»å›¾å½¢è¡¨é¢åˆ›å»ºåˆ‡å‰²å¹³é¢<br>
                â€¢ é™„ç€æ¨¡å¼: åœ¨é€‰ä¸­å›¾å½¢ä¸Šæ·»åŠ æ–°å›¾å½¢
            </div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="app.js"></script>
</body>
</html>